import{showToast}from"./app.js";document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("forgotPasswordLink"),t=document.getElementById("forgotPasswordModal"),o=document.getElementById("closeForgotModal"),s=document.getElementById("forgotPasswordForm");e&&e.addEventListener("click",e=>{e.preventDefault(),t.classList.remove("hidden")}),o&&o.addEventListener("click",()=>{t.classList.add("hidden")}),s&&s.addEventListener("submit",async e=>{e.preventDefault();const o=document.getElementById("forgotEmail").value.trim();try{const e=await fetch("/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o})}),s=await e.json();showToast(s.message||"Check your email for the reset link.","success"),t.classList.add("hidden")}catch(e){console.error(e),showToast("Failed to send reset link. Try again.","error")}})});