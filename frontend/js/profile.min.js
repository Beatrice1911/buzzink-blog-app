async function fetchUserProfile(t){try{const t=await fetch(`${API_URI}/users/${username}`);if(!t.ok)throw new Error("User not found");const e=await t.json();document.getElementById("profile-name").textContent=e.name,document.getElementById("profile-bio").textContent=e.bio||"This user has no bio.",document.getElementById("profile-date").textContent=`Joined: ${new Date(e.createdAt).toDateString()}`;const o="https://i.postimg.cc/KvF0rh0Q/custom-default-avatar.png",n=e.profilePhoto?(e.profilePhoto.startsWith("http"),e.profilePhoto):o;document.getElementById("profile-photo").src=n,document.getElementById("user-name-label").textContent=e.name;const s=await fetch(`${API_URI}/posts?authorId=${e._id}`);if(!s.ok)throw new Error("Failed to fetch user's posts");const{posts:r}=await s.json(),a=document.getElementById("posts-list");a.innerHTML=r.length?r.map(t=>`\n            <div class="post-card" onclick="window.location.href='post.html?id=${t._id}'">\n                <h3>${t.title}</h3>\n                <p>${t.content.substring(0,120)+"..."}</p>\n            </div>\n            `).join(""):"<p class='no-posts'>No posts available.</p>"}catch(t){document.body.innerHTML=`<p>${t.message}</p>`}}const API_URI="/api",urlParams=new URLSearchParams(window.location.search),username=urlParams.get("user");username?fetchUserProfile(username):document.body.innerHTML="<h2>User not specified</h2>";